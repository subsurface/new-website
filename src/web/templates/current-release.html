{% extends "base.html" %}

{% block title %}Subsurface Current Release{% endblock %}
{% block head %}
{{ super() }}

{% endblock %}

{% block page_content %}
<div class="container mb-5">
  <div class="row">
    <div class="col-12">
      <h1 class="ssrf">{{ _("Current \"Weekly\" Release: %(version)s", version=get_env("crelease")) }}
      </h1>
      <h5>{{ get_env("crelease_date") }}</h5>
      <p>
        {{ _("The releases on this page are what we consider the current release builds of Subsurface.") }}
      </p>
      <p>
        {{ _("We expect these builds to be reasonably stable and somewhat tested, and as the name suggests try to update them about once a week (the actual frequency may vary).")}}
      </p>
      <p>
        {{ _("If you are looking for more \"bleeding edge\" releases builds, please check out the <a %(link)s>Latest Release Page</a>.", link="href="+get_env("lang")+"/latest-release") }}
      </p>
      <div class="row">
        <div class="col-md-auto mt-3">
          <h2><a class="face-button" href="{{ get_env("cwindows")}}">
              <div class="face-primary">
                <i class="fa-brands fa-fw fa-windows"></i> Windows
              </div>
              <div class="face-secondary">
                {{ _("Download...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;") }}
              </div>
            </a>
          </h2>
        </div>
        <div class="col-12 col-md-6 mt-3">
          {{ _("This Subsurface Windows installer is not signed and Windows will likely ask you to confirm that you want to install this program.")}}
        </div>
        <div class="col-12"></div>
        <div class="col-md-auto mt-3">
          <h2><a class="face-button" href="{{ get_env("cmacos")}}">
              <div class="face-primary"><i class="fa-brands fa-fw fa-apple"></i> macOS
              </div>
              <div class="face-secondary">
                {{ _("Download...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;") }}
              </div>
            </a>
          </h2>
        </div>
        <div class="col-12 col-md-6 mt-3">
          {{ _("We try to post a signed Subsurface macOS DMG here. If your Mac doesn't want to install this image, please let us know in the <a %(link)s>User Forum</a>.", link="href="+get_env("lang")+"/user-forum/") }}
        </div>
        <div class="col-12"></div>
        <div class="col-md-auto mt-3">
          <h2><a class="face-button" href="{{ get_env("candroid")}}">
              <div class="face-primary"><i class="fa-brands fa-fw fa-android"></i> Android
              </div>
              <div class="face-secondary">
                {{ _("Download...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;") }}
              </div>
            </a>
          </h2>
        </div>
        <div class="col-12 col-md-6 mt-3">
          <p>
            {{ _("The Subsurface Android APK can be side-loaded on most Android devices.")}}
          </p>
          <p>
            {{ _("If you would like to get automatic updates, you can use <a %(obtainium)s>Obtainium</a>. After installing it, click on <a %(obtainium_subsurface)s>this link</a> on your device to add the current release version of Subsurface-mobile to Obtainium, and get update notifications when new versions are released.", obtainium="href=https://obtainium.imranr.dev/", obtainium_subsurface="href=https://apps.obtainium.imranr.dev/redirect?r=obtainium://app/%7B%22id%22%3A%22org.subsurfacedivelog.mobile%22%2C%22url%22%3A%22https%3A%2F%2Fsubsurface-divelog.org%2Fdownloads%2F%22%2C%22author%22%3A%22subsurface-divelog.org%22%2C%22name%22%3A%22Subsurface-mobile%22%2C%22preferredApkIndex%22%3A0%2C%22additionalSettings%22%3A%22%7B%5C%22intermediateLink%5C%22%3A%5B%5D%2C%5C%22customLinkFilterRegex%5C%22%3A%5C%22Subsurface-mobile-%28.%2A%29-CICD-release.apk%5C%22%2C%5C%22filterByLinkText%5C%22%3Afalse%2C%5C%22matchLinksOutsideATags%5C%22%3Afalse%2C%5C%22skipSort%5C%22%3Afalse%2C%5C%22reverseSort%5C%22%3Afalse%2C%5C%22sortByLastLinkSegment%5C%22%3Afalse%2C%5C%22versionExtractWholePage%5C%22%3Afalse%2C%5C%22requestHeader%5C%22%3A%5B%5D%2C%5C%22defaultPseudoVersioningMethod%5C%22%3A%5C%22APKLinkHash%5C%22%2C%5C%22trackOnly%5C%22%3Afalse%2C%5C%22versionExtractionRegEx%5C%22%3A%5C%22Subsurface-mobile-%28.%2A%29.apk%5C%22%2C%5C%22matchGroupToUse%5C%22%3A%5C%22%241%5C%22%2C%5C%22versionDetection%5C%22%3Afalse%2C%5C%22useVersionCodeAsOSVersion%5C%22%3Afalse%2C%5C%22apkFilterRegEx%5C%22%3A%5C%22%5C%22%2C%5C%22invertAPKFilter%5C%22%3Afalse%2C%5C%22autoApkFilterByArch%5C%22%3Atrue%2C%5C%22appName%5C%22%3A%5C%22%5C%22%2C%5C%22appAuthor%5C%22%3A%5C%22%5C%22%2C%5C%22shizukuPretendToBeGooglePlay%5C%22%3Afalse%2C%5C%22allowInsecure%5C%22%3Afalse%2C%5C%22exemptFromBackgroundUpdates%5C%22%3Afalse%2C%5C%22skipUpdateNotifications%5C%22%3Afalse%2C%5C%22about%5C%22%3A%5C%22This%20is%20the%20current%20release.%20For%20more%20info%20visit%20https%3A%2F%2Fsubsurface-divelog.org%2F.%5C%22%2C%5C%22refreshBeforeDownload%5C%22%3Afalse%7D%22%2C%22overrideSource%22%3Anull%7D")}}
          </p>
          <p>
            {{ _("<strong>Note:</strong> If you previously had installed Subsurface-mobile from the Google Play store, the first time you switch to a side-loaded app, you'll have to uninstall the Play store version. Make sure your data is synced to the Subsurface Cloud. After you install this APK and log in to the Subsurface Cloud again, the data will be restored. Every subsequent update will not require an uninstall.")}}
          </p>
          <p>
            {{ _("A brief explanation of the concept of side-loading can be found in <a %(explanation)s>this androidcentral article</a>.", explanation="href=https://www.androidcentral.com/what-sideloading") }}
          </p>
        </div>
        <div class="col-12"></div>
        <div class="col-md-auto mt-3">
          <h2><a class="face-button" href="https://apps.apple.com/us/app/subsurface-mobile/id1093217161">
              <div class="face-primary"><i class="fa-brands fa-fw fa-apple"></i> iOS
              </div>
              <div class="face-secondary">
                {{ _("AppStore Link&nbsp;&nbsp;") }}
              </div>
            </a>
          </h2>
        </div>
        <div class="col-12 col-md-6 mt-3">
          {{ _("iOS is the only platform right now where in general side-loading or installing unsigned binaries is impossible (apparently that may change for users in the EU, but not elsewhere). As a result we cannot make new versions of Subsurface-mobile for iOS available here, but the goal is to update the AppStore version to the \"weekly\" versions reasonably frequently as well.") }}
        </div>
        <div class="col-12"></div>
        <div class="col-12 mt-3">
          <h3>Linux</h3>
          <p>
            {{ _("The Subsurface team is providing distribution packages for Ubuntu and Fedora as well as a Snap and a generic \"AppImage\" that should work on most other x86_64 Linux distributions.") }}
          </p>
          <h4>{{ _("Debian") }}</h4>
          <p>{{ _("There is a version of Subsurface for debian that is maintained by a community contributor.") }}</p>
          <p>{{ _("For the initial setup follow the instructions on <a %(setup)s>https://dfx.at/subsurface-debian/</a>, and then install Subsurface with <code>sudo apt install subsurface</code>.", setup="href=https://dfx.at/subsurface-debian/") }}</p>
          <h4>{{ _("Ubuntu and compatible distros") }}</h4>
          <p>{{ _("To use these binaries in Ubuntu, simply add the Subsurface Daily Release PPA to your system:") }}</p>
          <pre><code>sudo add-apt-repository ppa:subsurface/subsurface-daily; sudo apt update</code></pre>
          <p>{{ _("and then install Subsurface with <code>sudo apt install subsurface </code>") }}</p>
          <h4>Fedora</h4>
          <p>{{ _("To install the Subsurface CICD binaries on Fedora simply run") }}</p>
          <pre><code>sudo dnf copr enable dirkhh/Subsurface-test</code></pre>
          <p>{{ _("and then install Subsurface with <code>sudo dnf install subsurface</code>") }}</p>
          <h4>Arch</h4>
          <p>{{ _("To install the Subsurface CICD binaries on Arch Linux you can use the AUR package") }}</p>
          <pre><a href="https://aur.archlinux.org/packages/subsurface-appimage">https://aur.archlinux.org/packages/subsurface-appimage</a></pre>
          <p>{{ _("which packages the AppImage.") }}</p>
          <h4>{{ _("Other x86_64 Linux distributions") }}</h4>
        </div>
        <div class="col-md-auto">
          <h2><a class="face-button" href="https://snapcraft.io/subsurface">
              <div class="face-primary"><i class="fa fa-solid fa-fw fa-external-link"></i> Snap
              </div>
              <div class="face-secondary">
                {{ _("Snap link&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;") }}
              </div>
            </a>
          </h2>
        </div>
        <div class="col-12 col-md-6">
          {{ _("The 'candidate' Snap-channel contains our current build.") }}
        </div>
        <div class="col-12"></div>
        <div class="col-md-auto">
          <h2><a class="face-button" href="{{ get_env("cappimage")}}">
              <div class="face-primary"><i class="fa-brands fa-solid fa-fw fa-linux"></i> AppImage
              </div>
              <div class="face-secondary">
                {{ _("Download...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;") }}
              </div>
            </a>
          </h2>
        </div>
        <div class="col-12 col-md-6">
          {{ _("A generic AppImage is available. After you download this file, make it executable <code>chmod +x Subsurface-%(version)s-CICD-release.AppImage</code>, and then simply run this file.", version=get_env("crelease")) }}
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
